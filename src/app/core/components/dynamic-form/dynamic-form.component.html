<form class="dynamic-form" [formGroup]="form" (submit)="onSubmit($event)">
  <ng-container *ngFor="let field of fields">
    <ng-container *ngIf="field.type !== getFieldType().group; then dynamicField; else dynamicGroupField"></ng-container>

    <ng-template #dynamicField>
      <ng-container dynamicField [field]="field" [group]="form"></ng-container>
    </ng-template>
    <ng-template #dynamicGroupField>
      <ng-container dynamicFieldGroup [field]="field" [group]="form"></ng-container>
    </ng-template>
  </ng-container>
</form>